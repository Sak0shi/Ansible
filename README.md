```
README.md: –û—Ç—á–µ—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ "–û—Å–Ω–æ–≤—ã Ansible –≤ DevOps"
üöÄ –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã:
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —Å –ø–æ–º–æ—â—å—é Ansible
üë®‚Äçüéì –í—ã–ø–æ–ª–Ω–∏–ª:
–°–∞–º–∏–≥—É–ª–ª–∏–Ω –î–∞–Ω–∏—ç–ª—å –†–∞–º–∏–ª–µ–≤–∏—á
üìù –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–¶–µ–ª—å—é –¥–∞–Ω–Ω–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —è–≤–ª—è–ª–æ—Å—å –∏–∑—É—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ Ansible, –æ—Å–≤–æ–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –º–∞—à–∏–Ω—ã –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ —Ö–æ—Å—Ç–∞ (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker), –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–±–æ—Ç—ã —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏, Ad-hoc –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ Playbook'–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.
üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

    Ansible (–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏)

    Docker / Docker Compose (–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ —Ö–æ—Å—Ç–∞)

    Linux/WSL (–£–ø—Ä–∞–≤–ª—è—é—â–∞—è –º–∞—à–∏–Ω–∞)

    SSH (–ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)

    Python 3 (–°—Ä–µ–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã Ansible)

‚öôÔ∏è –•–æ–¥ —Ä–∞–±–æ—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ä–µ–¥—ã –∏ SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible –∏ Python, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã SSH-–∫–ª—é—á–∏, –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Ö–æ—Å—Ç –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞: –ö–ª—é—á–µ–≤–∞—è –ø–∞—Ä–∞ ansible_key –∏ ansible_key.pub –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞.

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: –ó–∞–ø—É—â–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ansible-managed-host —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ SSH –Ω–∞ –ø–æ—Ä—Ç 2222.

    –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞: –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Ñ–∞–π–ª /home/ansible/.ssh/authorized_keys, –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (700 –∏ 600).

    –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH: –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –∫–æ–º–∞–Ω–¥–æ–π ssh -i ~/.ssh/ansible_key -p 2222 ansible@localhost –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

        –ü—Ä–æ–±–ª–µ–º—ã, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ: [–£–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –±—ã–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º –ø—É—Ç–∏ ~/.ssh/ansible_key –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ—Ç root –∏ –∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—É—Ç–µ–º —É–∫–∞–∑–∞–Ω–∏—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –ø—É—Ç–∏ –≤ inventory.ini]

2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (inventory.ini)

–ë—ã–ª —Å–æ–∑–¥–∞–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä–Ω—ã–π —Ñ–∞–π–ª, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Ö–æ—Å—Ç managed1, –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–ø–æ—Ä—Ç 2222, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ansible) –∏ –ø—É—Ç—å –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –∫–ª—é—á—É.
Ini, TOML

[managed_hosts]
managed1 ansible_host=localhost ansible_port=2222 ansible_user=ansible ansible_ssh_private_key_file=/path/to/ansible_key ansible_python_interpreter=/usr/bin/python3

[all:vars]
ansible_ssh_common_args=-o StrictHostKeyChecking=no

3. –ó–∞–¥–∞–Ω–∏–µ 1: –ë–∞–∑–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –º–∞—à–∏–Ω–æ–π –∏ —Ö–æ—Å—Ç–æ–º —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è ping.
–ö–æ–º–∞–Ω–¥–∞ –†–µ–∑—É–ª—å—Ç–∞—Ç
ansible -i inventory.ini managed_hosts -m ping –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç: `managed1

–í—ã–≤–æ–¥: –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ Ansible —Å —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º —Ö–æ—Å—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.
4. –ó–∞–¥–∞–Ω–∏–µ 2: –ë–∞–∑–æ–≤—ã–µ Ad-hoc –∫–æ–º–∞–Ω–¥—ã

–ë—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ –∏ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.
–ö–æ–º–∞–Ω–¥–∞ –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥/–°—Ç–∞—Ç—É—Å
ansible ... -m setup -a "filter=ansible_processor_cores" 
ansible ... -m command -a "df -h" –í—ã–≤–µ–¥–µ–Ω —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ –∏ –∑–∞–Ω—è—Ç–æ–≥–æ –º–µ—Å—Ç–∞
ansible ... -m command -a "cat /etc/passwd" –í—ã–≤–µ–¥–µ–Ω —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∫–ª—é—á–∞—è ansible


ansible ... -m command -a "timedatectl set-timezone UTC" –û–®–ò–ë–ö–ê, –Ω–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ansible -i inventory.ini managed1 -m timezone -a "name=Etc/UTC"


5. –ó–∞–¥–∞–Ω–∏–µ 3: –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (Playbook)

–ë—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω Playbook task3_files.yml –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ —Ñ–∞–π–ª–æ–≤ –≤ –Ω–∏—Ö.

    –¶–µ–ª—å Playbook: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π test_dir1, test_dir2, test_dir3 –≤ /tmp, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–∏—Ö —Ñ–∞–π–ª–∞ content.txt –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.

    –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: ansible-playbook -i inventory.ini task3_files.yml

    –†–µ–∑—É–ª—å—Ç–∞—Ç:

        changed = 3

        ok = 5


üí° –í—ã–≤–æ–¥—ã –ø–æ —Ä–∞–±–æ—Ç–µ

–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±—ã–ª–∏ –æ—Å–≤–æ–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã —Å Ansible: –æ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å—Ä–µ–¥—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ SSH-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ Playbook‚Äô–æ–≤. –ë—ã–ª–∞ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–º Infrastructure as Code.
```
